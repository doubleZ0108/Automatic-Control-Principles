# 活过自动控制

<div align="center">软件学院		张喆</div>

[toc]

------

## 第一章 绪论

- **🌟自动控制系统的组成**：控制器、被控对象、被控量、（测量装置）、（比较装置）

  <img src="活过自动控制.assets/image-20210119093710719.png" alt="image-20210119093710719" style="zoom:50%;" />

- 反馈控制：控制作用通过<u>给定量</u>和<u>反馈量</u>的差值进行的

- **分类**

  - 信号传递路径
    - 开环控制：输入与输出没有反馈回路，系统==稳定==；输出不会影响控制器的决策；*没法自行消除扰动误差*
    - 闭环控制：负反馈；==精度高==，将输出信号引回输入端，与输入信号比较，期望偏差越来越小；*复杂，可能超调、震荡、不稳定*
    - 复合控制
  - 输入信号
    - 恒值控制
    - 随动(伺服)控制：被控量是预先位置的函数，要求以尽可能小的误差跟随   🌰拦截导弹
    - 程序控制：被控量按预定规律变化
  - 信号
    - 连续控制：  🌰PID
    - 离散控制：  🌰数字控制系统(有CPU)
  - 元件特性：线性控制 / 非线性控制

- **自动控制基本要求**

  - 稳定性
  - 快速性：但也不是越快越好，🌰飞机自动驾驶遇气流要平稳回复
  - 准确性

- **方法**：时域法 / 复域法 / 频域法

### 拉普拉斯变换

<img src="活过自动控制.assets/拉普拉斯变换.jpg" alt="拉普拉斯变换" style="zoom:100%;" />

<br/>

------

## 第二章 控制系统的数学模型

- **数学模型分类**

  - 静态：各阶导数的代数方程
  - 动态：各阶导数间的微分方程

- **建模方法**

  - 解析法：根据变量间的物理等数学公式
  - 实验法：不知道遵循什么公式，加一激励信号测量输出并进行拟合（但有成本问题）

  1. 时域模型：微分方程、状态方程
  2. 复域模型：传递函数、结构图
  3. 频域模型：频率特性

- **相似系统**：两系统间有相同的数学模型   🌰用电子系统代替机械系统

- **叠加原理**：可叠加性$f_1(t)+f_2(t)$、其次性$Af(t)$

- **非线性系统的线性化**：微偏法/切线法   在给定点邻域将函数展开成泰勒级数，略去一次以上项

  > 负反馈时一般都满足小偏差，这种近似方法比较有实际意义

### 传递函数

<img src="活过自动控制.assets/image-20210119095442723.png" alt="image-20210119095442723" style="zoom:50%;" />
$$
传递函数 = \frac{输出的拉氏变换}{输入的拉氏变换}|零初始条件 = \frac{C(S)}{R(S)} = G(S)
$$

$$
G(s)=\frac{C(s)}{R(s)}=\frac{b_{0} s^{m}+b_{1} s^{m-1}+\cdots+b_{n-1} s+b_{m}}{a_{0} s^{n}+a_{1} s^{n-1}+\cdots+a_{n-1} s+a_{n}} \quad(n>m)
$$

- **特征方程**：传递函数分母=0的方程（决定系统的动态特性）
- **特征根(极点)**：特征方程的解
- **系统的阶次**：特征方程中S的最高阶次
- **增益(放大系数)**：系统处于静态时，输出和输入的比值  $k = \frac{b_m}{a_n}$



- 仅取决于系统的<u>结构</u>和<u>参数</u>，与输入和扰动无关
- 仅适用于线性定常系统

> 🌰【电路】
>
> <img src="活过自动控制.assets/image-20210119100039812.png" alt="image-20210119100039812" style="zoom:50%;" />

> 🌰 【开环传递函数 求 开环增益】
>
> <img src="活过自动控制.assets/image-20210119112716467.png" alt="image-20210119112716467" style="zoom:50%;" />

#### 典型环节

- 比例环节：$G(s) = k$
- 积分环节：$G(s) = \frac{1}{s}$
- 惯性环节：$G(s) = \frac{1}{Ts+1}$
- 微分环节：$G(s) = s$
- 一阶微分环节：$G(S) = \tau s + 1$
- 二阶微分环节：$G(S) = \tau^2s^2+2\zeta \tau s + 1$
- 二阶振荡环节：$G(S) = \frac{1}{T^2s^2 + 2\zeta TS+1}$
- 滞后环节：$G(s) = e^{-s}$

<img src="活过自动控制.assets/image-20210119100657891.png" alt="image-20210119100657891" style="zoom:50%;" />

#### 几个通路的传递函数

<img src="活过自动控制.assets/image-20210119105101196.png" alt="image-20210119105101196" style="zoom:50%;" />

- 扰动$N(S)=0$时

  - 前向通路传递函数：$\frac{C(S)}{E(S)}$

  - 反馈通路传递函数：$\frac{B(S)}{C(S)}$

  - 开环传递函数：$\frac{B(S)}{E(S)}$

  - 闭环传递函数：$\frac{C(S)}{R(S)}$

  - 偏差传递函数：$\frac{E(S)}{R(S)}$

    > <img src="活过自动控制.assets/image-20210119105701052.png" alt="image-20210119105701052" width="50%;" />

  - $开环传函 = 前向通路 * 反馈通路$

  - $闭环传函=\frac{前向通路}{1+开环传函}$

- $R(S) = 0$时

  - 输出对扰动的传递函数：$\frac{C(S)}{N(S)}$
  - 偏差对扰动的传递函数：$\frac{E(S)}{N(S)}$

  <img src="活过自动控制.assets/image-20210119105911356.png" alt="image-20210119105911356" style="zoom:50%;" />

- $R(S),N(S)$均不为零时

  - $C(S) = \Phi_R(S)R(S) + \Phi_N(S)N(S)$
  - $E(S) = \Phi_{eR}(S)R(S) + \Phi_{eN}(S)N(S)$
    - $\Phi_{eR}(S)$：偏差的传递函数

------

### 方框图

表示输入信号在系统各部分的传递过程，可用来求传递函数

<img src="活过自动控制.assets/image-20210119100850248.png" alt="image-20210119100850248" style="zoom:50%;" />

**【方框图等效变换】**

<img src="活过自动控制.assets/image-20210119103426436.png" alt="image-20210119103426436" style="zoom:50%;" />

> 🌰 【方框图等效变换】 P9                                                                                                                                                                                                                                                                                    



**【方框图绘制】**

> 🌰 【电路绘制方框图（完全看不懂）】 P12



### 梅森公式

不用化简方框图，直接求传递函数

<img src="活过自动控制.assets/image-20210119110709728.png" alt="image-20210119110709728"  />

> 🌰 【梅森公式求解传递函数】（❗️重点看）P13



### 信号流图

> 🌰 【方框图 -> 信号流图】
>
> 对每个相交点和分支点取一个流图的节点
>
> <img src="活过自动控制.assets/image-20210119112751958.png" alt="image-20210119112751958" style="zoom:50%;" />

> 🌰 【对信号流图用meson公式】
>
> <img src="活过自动控制.assets/image-20210119112802769.png" alt="image-20210119112802769" style="zoom:50%;" />

<br/>

------

## 第三章 时域分析法

根据系统输入的时域表达式分析系统

- **🌟系统阶次**：传递函数分母的最高阶次

- **两种响应**

  - 动态响应：系统在典型输入信号的激励后，输入量从初态到终态的响应过程
  - 稳态响应：～，时间趋于$\infin$时，系统输出量的表现形式

- **运动模态**（不太懂这个是干什么的）

  <img src="活过自动控制.assets/image-20210119165340158.png" alt="image-20210119165340158" style="zoom:50%;" />

  - 瞬态分量
  - 稳态分量

- **高阶系统的时间响应**：阶次太高极点太多，通常化为一、二阶加以分析

  - 主导极点：离虚轴最近的一两个闭环极点起主导作用，远的极点很快就衰减完了
  - 零点和极点共同决定系统响应曲线形状
  - 稳态：由输入信号决定
  - 暂态：由传递函数决定



### 典型输入信号

- **阶越**：$r(t) = R \quad L(S) = \frac{R}{s}$

- **斜坡（速度函数**）：$r(t) = Rt \quad L(S) = \frac{R}{s^2}$

- **加速度**：$r(t) = Rt^2 \quad L(S)=\frac{2R}{s^3}$

- **正弦**：$r(t)=sinwt \quad L(S)=\frac{w}{s^2+w^2}$

- **单位脉冲**

  <img src="活过自动控制.assets/image-20210119164456472.png" alt="image-20210119164456472" style="zoom:50%;" />



### 特征根分布与各参数关系

<img src="活过自动控制.assets/image-20210120101810234.png" alt="image-20210120101810234" style="zoom:75%;" />



### 动态性能指标（快）

> 在阶越函数作用下，～

<img src="活过自动控制.assets/image-20210119164822443.png" alt="image-20210119164822443" style="zoom:50%;" />

- 峰值时间$t_p$：第一次达到峰值

- 上升时间$t_r$：第一次达到稳态值

- 调节时间$t_s$：响应达到允许的误差带

- 延迟时间$t_d$：第一次达到稳态值一半的时间

- 超调量$\sigma \%$：$\sigma \% = \frac{c(t_p) - c(\infin)}{c(\infin)}$

- 振荡次数$N$：0~$t_p$中，穿越稳态值次数的一半

  > - $t_r$, $t_p$: 反映系统响应速度
  > - $\sigma$, $N$: 反映系统阻尼程度
  > - $t_s$: 综合指标

#### 一阶系统的时域分析

> 时域分析方法都是：
> $$
> C(s) = \Phi(s)R(s) \\
> C(t) = L^{-1}[C(s)]
> $$

$$
\Phi(S) = \frac{1}{Ts + 1}
$$

<img src="活过自动控制.assets/image-20210119165951144.png" alt="image-20210119165951144" style="zoom:50%;" />

- 输入阶越，响应速度与时间T成反比，T越小响应速度越快
- 单位速度信号，随着时间的推移（逐渐稳定），输出与输入始终有一个差值
- 单位家速度信号，误差会越来越大
- 输入信号导数的响应 = 其响应的导数

> ⚗️【详细推导】 P19



#### 二阶系统的时域分析

$$
\Phi(S) = \frac{w_n^2}{s^2+2\zeta w_nS+w_n^2}
$$

- $w_n$：无阻尼自振角频率
- $\zeta$：阻尼比
- $w_d=w_n \sqrt{1-\zeta^2}$：有阻尼自振角频率
- $w_r=w_n\sqrt{1-2\zeta^2}$：谐振频率
  - $\zeta > \frac{1}{\sqrt{2}}$时无谐振，但只要$0<\zeta<1$，就会出现超调和振荡
  - 谐振峰值$M_r=\frac{1}{2\zeta\sqrt{1-\zeta^2}}$

> ⚗️ 【阻尼比与特征根的关系】 P21



**🌟【公式】**

- $w_d = w_n\sqrt{1-\zeta^2}$
- 上升时间 $t_r = \frac{\pi - \beta}{w_d} \quad \beta = cos^{-1}\zeta$
- 峰值时间 $t_p = \frac{\pi}{w_d}$
- 超调量 $\sigma \% = e^{-\frac{\pi \zeta}{\sqrt{1-\zeta^2}}} \times \%$
- 调整时间 $t_s = \frac{3.5}{\zeta w_n} (取误差带\Delta=5\%) \\ t_s = \frac{4.4}{\zeta w_n} (取误差带\Delta=2\%)$ 
- 振荡次数 $N = \frac{t_s}{2t_p}$



**【阶越信号】**

<img src="活过自动控制.assets/image-20210119170943130.png" alt="image-20210119170943130" style="zoom:75%;" />

- 欠阻尼：振荡指数衰减，$\zeta$越小，振荡越距离，衰减速度越慢
- 临界阻尼：无超调   🌰汽车自动定位不可能调过头再调回来，只能越来越近
- 过阻尼
- 零阻尼：输出时等幅振荡（偏移1）
  - 如果系统以$w_n$做等幅震荡，则系统特征根必有共轭虚根，系统处于临界稳定状态

**【阶越信号 - 以欠阻尼为例分析动态性能】**

- 阻尼比一定时，系统响应速度与$w_d$成正比
- $w_n$一定时，阻尼比越小，上升时间越短
- 超调量只与阻尼比有关，$\zeta=1$时，无超调
- 误差带通常取5%或2%
- 工程上通常采用欠阻尼，对二阶系统一般取$\zeta = 0.4 \sim 0.8$



> 🌰【二阶系统对单位脉冲的响应】P24
>
> 将二阶系统单位阶越响应对时间求导即可得到



> 🌰【时域分析例题】*2 P23
>
> 给出或要求解 $\sigma, t_p, K, t_r, t_s, N$这些东西的看过来 

### 稳定性（稳）

当扰动消失后，由初始偏差状态恢复到原平衡状态的性能

- **不稳定系统**：稍微扰动，就恢复不过来了   🌰小球放在斜坡上，轻微一碰就滚下去回不来了
- **🌟稳定判据**：所有<u>闭环特征方程</u>的根都在S的左半平面（负实部）
  - 闭环传递函数的分母
- **临界稳定**：闭环极点实部为零，其余极点都有负实部
  - 输出信号等幅振荡
  - 在工程上是不稳定的（参数很容易变化）

#### 劳斯判据

🌟用的是闭环特征方程$1+G(s)H(s) = 0$
$$
a_{0} S^{n}+a_{1} S^{n-1}+\cdots+a_{n-1} S+a_{n}=0
$$

- **根本目的**：特征方程不好求解，不好验证所有根是不是都有负实部，希望通过代数的方法解决
- **必要条件**：系统特征方程系数$a_i > 0$

**🌟【劳斯表】**

- 劳斯表第一列系数均为正，系统稳定
- 符号*<u>变化的次数</u>*等于特征方程在S右半平面上根的个数

<img src="活过自动控制.assets/image-20210119190729657.png" alt="image-20210119190729657" style="zoom:50%;" />

**【特殊情况】**：此时系统是临界稳定或不稳定

1. 某行第一项为零，该行其余项不全为零
   - 以很小的<u>*正数*</u>$\varepsilon$代替零继续完成劳斯表
2. 有全零行
   - 用全零行的上一行系数构造一个辅助多项式，用其倒数的系数替代该行
   - 辅助方程的根也一定是特征方程的根
   - 第一列符号有变化 => 不稳定
   - 第一列夫好相同 => 临界稳定

> 🌰【劳斯表｜系统稳定性例题*2】P27



#### 相对稳定性｜稳定的程度

- 离虚轴越近越不稳定

- 如果正好落到虚轴，则临界稳定，一不小心就不稳定了

- **🌟提高系统稳定性**：

  - 增加串联超前/滞后校正装置
  - 增加开环<u>*零点*</u>
  - 增加PI/PD/PID控制器
  - 在积分环节外加单位负反馈

  > 不在这里的谨慎选择，应该都是错误选项



**【劳斯判据 - 判断是否在直线$s=a$左侧】**

令$S=Z+a$带入原始方程中，得到以Z为变量的特征方程，再用劳斯判据

> 🌰【劳斯表判断是否谓语s=-1左侧】
>
> <img src="活过自动控制.assets/image-20210119193043055.png" alt="image-20210119193043055" style="zoom:50%;" />

#### 赫尔维茨判据（略）

<img src="活过自动控制.assets/image-20210119193257826.png" alt="image-20210119193257826" style="zoom:50%;" />

- 赫尔维茨行列式$D_k$全为正，则系统稳定



### 稳态误差（准）

- **原理性误差**：输入信号和扰动信号引起的稳态误差（不讨论制造误差等）

- **稳态性能**：跟踪输入 或 一致扰动的能力

- **无差系统**：阶越的作用下没有原理性稳态误差

- **误差公式**

  <img src="活过自动控制.assets/image-20210119193957280.png" alt="image-20210119193957280" style="zoom:50%;" />

  - 误差传函$\Phi_e(S)$：$\frac{1}{H(S)} * \frac{1}{1+G(S)H(S)}$
  - 输入引起的误差$E_r$：$\Phi_e(S)R(S)$
  - 扰动引起的误差$E_n$：$-\Phi_N(S)N(S)$
    - $\Phi_N(S) = \frac{-G_2(S)}{1+G_1(S)G_2(S)H(S)}$

- **系统型别**：系统中积分环节数目｜包含S=0的极点数

  -  $G(S)H(S) = \frac{...}{s^v...}$中的v

- **系统阶次**：分母S的幂次

- **开环增益**：$\lim _{s \rightarrow 0} s^{v} G(s) H(s)=K$

  - 开环增益越大，控制精度越高（但系统稳定要将K限定在某一范围内）



#### 终值定理求解稳态误差

$$
e_{ss}(\infin) = lim_{s\rightarrow0}S[E_r(S)+E_n(S)]
$$

- 缺：只能得到$t\rightarrow \infin$的值，不能得到时间表达式

> 🌰【终值定理求解稳态误差】
>
> <img src="活过自动控制.assets/image-20210119194927752.png" alt="image-20210119194927752" style="zoom:50%;" />

#### 根据系统型别求解稳态误差

<img src="活过自动控制.assets/image-20210119195612660.png" alt="image-20210119195612660" style="zoom:50%;" />

- K为开环增益：$\lim _{s \rightarrow 0} s^{v} G(s) H(s)=K$

- 阶越信号：要使系统对节约输入不存在稳态误差，必须选用`I`型及以上系统
- 速度信号：`II`型及以上才可能让稳态误差为0
- 加速度信号：`0` `I`型无论怎么调参数都不能追踪上盖信号，且误差越来越大；`II`型能跟踪上但始终有误差；`III`型及以上能完全跟踪上，且稳态误差为零

【其他方法求解稳态误差（略）】

<img src="活过自动控制.assets/image-20210119200336209.png" alt="image-20210119200336209" style="zoom:25%;" />

> 🌰【求解稳态误差时间函数】P34
>
> 🌰【误差综合案例】P34

#### 提高系统稳定性的方法

- 提高系统开环增益

- 增大系统型别  => 积分环节的个数

  > 但这样会影响系统的稳定性和动态性能

**【复合控制】**

在负反馈控制的基础上增加<u>前馈补偿环节</u>，形成由输入/扰动信号到被控量的前馈通路。此时系统闭环特征方程不变，不影响系统稳定性

- **对扰动进行补偿**

  <img src="活过自动控制.assets/image-20210119205653767.png" alt="image-20210119205653767" style="zoom:50%;" />

- **对输入进行补偿**

  <img src="活过自动控制.assets/image-20210119205700886.png" alt="image-20210119205700886" style="zoom:50%;" />

> 🌰【提高系统稳定性例题】
>
> <img src="活过自动控制.assets/image-20210119210014153.png" alt="image-20210119210014153" style="zoom:50%;" />

<br/>

------

## 第四章 根轨迹法

**【背景】**

- **根轨迹**：系统中某一参数从$0 \rightarrow \infin$时，闭环特征方程的根在S平面的轨迹
- 由开环传函求闭环特征根移动轨迹的方法
- 系统的 <u>稳定性</u>、<u>稳态性能</u>、<u>动态性能</u> 与系统的闭环特征根有关
- **非最小相位系统**：[s]右半平面有开环零点或极点的系统
  - 由典型环节构成的一定时最小相位系统



**【绘制前准备】**

- 将开环传函变为**标准形式**
  $$
  G(s) H(s)=\frac{K\left(s-z_{1}\right)\left(s-z_{2}\right) \cdots\left(s-z_{m}\right)}{\left(s-p_{1}\right)\left(s-p_{2}\right) \cdots\left(s-p_{n}\right)}
  $$

  - p：开环极点
  - z：开环零点
  - K：注意这里的K不是开环增益，叫做开环根轨迹增益（绘制根轨迹的可变参量）

- **根轨迹上点的判定**：满足相角条件的点，一定是根轨迹上的点

- **幅角条件**：$|G(S)H(S)|=1$

- **相角条件**：$\angle G(S)H(S) = (2k+1)\pi \quad(k=0,\pm1,\pm2,...)$

- **🌟如何决定使用180度还是0度**：化简$G(S)H(S)$

  - 右边是-1 --> 180度
  - 右边是1 --> 0度



### ‼️180度根轨迹

1. **跟轨迹分支数**：特征方程结束（闭环极点数）

2. 跟轨迹一定**连续**，且**对称**于实轴

3. **起始点**：开环极点  $\times$ （分母的根）

   **终点**：开环零点  $\circ$ （分子的根）

   > 根轨迹有n条 = 起点有n个
   >
   > 有m条终止于开环零点，剩下n-m条趋向于无穷远（需要确定其方向和走位）

4. **实轴上的根轨迹**：实轴上，如果右边开环实数<u>零、极点个数总和为奇数</u>，则该段是根轨迹（相角条件）

5. **渐近线**：共n-m条渐近线

   - 渐近线与实轴的交点：$\sigma_{a}=\frac{\sum_{i=1}^{n} p_{i}-\sum_{j=1}^{m} z_{j}}{n-m}$
   - 渐近线与实轴的夹角：$\varphi_{a}=\frac{(2 k+1) \pi}{n-m} \quad(k=0,1,2, \cdots, n-m-1)$

6. 实轴上

   - **分离点/会合点坐标** $d$：设$G(S)H(S)=\frac{KN(S)}{D(S)}$，得$K=-\frac{D(S)}{N(S)}$，令$\frac{dk}{ds}=0$，得到分离点$s$ （注意求出的不一定是根轨迹上的点，要结合(4)判断）
   - **分离角**$\theta_d$：$\theta_d = \frac{1}{l}(2k+1)\pi$
     - $l$：多少条根轨迹在这里相遇/分离    🌰$l=2$时为直角

7. **出射角和入射角**：当开环极点(零点)在复平面时，以什么角度出去(进来)

   - 出射角：$\theta_{pl} = (2k+1)\pi + \sum_{j=1}^m \angle(p_l-z_j)-\sum_{j=1}^n\angle(p_l-p_j)$
   - 入射角：$-\theta_{pl}$

8. **虚轴的交点**

   - 将$jw$带入特征方程$1+G(S)H(S)=0$中求解纯虚根
   - 列劳斯表，出现全零行或某行第一个元素为0

> 🌰【180度根轨迹例题*2】P42
>

### 0度根轨迹

与相角条件相关的会变

4. **实轴上的根轨迹**：右边的开环零、极点数总和为偶数
5. **渐近线**
   - **倾角**：$\varphi_{a}=\frac{2 k \pi}{n-m} \quad(k=0,1,2, \cdots, n-m-1)$
6. **出射角**：$\theta_{pl} = 2k\pi + \sum_{j=1}^m \angle(p_l-z_j)-\sum_{j=1}^n\angle(p_l-p_j)$

> 🌰【0度根轨迹例题】P44
>
> 🌰【非最小相位系统的根轨迹】
>
> 🌰 【参量根轨迹例题*4】

<br/>

------

## 第五章 频域分析

分析系统在不同频率的正弦信号输入下的稳态性能

**【频率特性$G(jw)$】**:
$$
\frac{输出稳态分量的复数形式}{输入的复数形式} \\
先求出传递函数G(W)，将s=jw带入得到频率特性G(jw)
$$

- <u>线性定常系统</u>满足输出信号只改变输入信号的幅值和相角，不改变其频
- **解析表示**
  - 实频-虚频：$G(jw)=U(w)+jV(w)$
  - 幅频-相频：$G(jw)=A(w)e^{j\varphi(w)}$
    - $A(w)=|G(j w)|=\sqrt{U^{2}(\omega)+V^{2}(\omega)}$
    - $\varphi(w)=\angle G(j w)=\operatorname{tg}^{-1} \frac{V(\omega)}{U_{(\omega)}}$
- **图的表示**
  - Nequist图：幅相频率特性图（极坐标）
  - Bode图：对数频率特性图
  - Nichols图：对数幅相图
- 分析闭环特征，只需绘制开环频率特性图



### Nequist图

$w:0\rightarrow +\infin$时，$G(jw)$的幅值和相角随$w$变化的轨迹

1. 写出$G(jw)$的表达式
2. 判断象限
3. 特征点：起点、终点、实轴交点、虚轴交点
4. 曲线方向为$w$增大的方向

**🌟【典型环节】**

<img src="活过自动控制.assets/image-20210120092728778.png" alt="image-20210120092728778" style="zoom:50%;" />

- 比例环节：$G(jw)=K$
- 积分环节：$G(jw)=\frac{1}{jw}$
- 微分环节：$G(jw)=jw$
- 惯性环节：$G(jw)=\frac{1}{jTw+1}$
- 一阶微分环节：$G(jw)=1+jw\tau$
- 振荡环节：$G(jw)=\frac{1}{T^2s^2+2\zeta Ts+1}$
- 二阶微分：$G(jw)=1+2\zeta \tau s + \tau^2s^2$
- 延时环节：$G(jw)=e^{-j\tau w}=cos\tau w - jsin\tau w$

> 🌰【Nequist图绘制例题 * 2】P51

**【Nequist图与系统型别】**

- 起点：
  - 0型系统起点一定在正实轴上
  - $I$型及以上系统起点一定来源于正无穷远处，角度为$-90^{\circ}v$
- 终点：$n>m$时（分母阶次高），一定会回到原点，角度为$(n-m)*(-90^{\circ})$



### Bode图

- **坐标轴**
  - 横轴按$w$标定，$lgw$刻度，没有0点
  - 纵轴$20lg|G(jw)|$标定，均匀刻度，有0点
- **最小相位系统**
  - 具有相同幅频特性的系统中，最小相位系统的相角范围最小
  - 对数幅频特性和相频特性变化趋势基本一致

**【典型环节】**

<img src="活过自动控制.assets/image-20210120095700099.png" alt="image-20210120095700099" style="zoom:50%;" />

**【Bode图求传递函数】**

1. 确定系统的组成环节：找转折频率，根据斜率变化确定各个环节
2. 确定K和v
   - 低频可以知道是几型系统
   - 一定过$(1,20lgk)$，斜率为$-20v \ dB/dec$
   - 与零分贝线交点处的频率为$w=\sqrt[v]{K}$
3. 振荡环节
   - **谐振峰值**：$M_r=\frac{1}{2\zeta\sqrt{1-\zeta^2}}$（注意在Bode的坐标轴上应该是 $20lgM_r = ...$

> 🌰
>
> <img src="活过自动控制.assets/image-20210120100554144.png" alt="image-20210120100554144" style="zoom:50%;" />

**【Bode图的绘制】**

- 系统幅频特性 = 组成各典型环节的幅频特性<u>乘积</u>
- 相频特性 = 组成各典型环节的相频特性<u>代数和</u>
- 低频段只跟比例环节和型别有关 $lim_{w\rightarrow0}G(jw)=\frac{K}{(jw)^v}$
- 有过点$(1,20lgK)$，斜率为$-20v \ dB/dec$的直线
- 与0dB线交点处的频率为$w=\sqrt[v]{K}$
- 向右绘制的过程中，没遇到一个<u>转折频率</u>改变一次斜率



### Nequist图稳定判据

- 幅角定理（看不懂）：当S按顺时针沿封闭曲线D连续的变化一周时，曲线F(S)在复平面也按顺时针方向包围原点$N=Z-P$圈

- 增补完的曲线只是顺时针包围$(-1,j_0)$点，闭环系统一定不稳定

- 若系统开环稳定(p=0)，则若增补完的图逆时针包围$(-1,j_0)$零圈，则系统稳定

- **稳定判据**

  1. **增补完整的Nequist曲线**，逆时针方向包围$(-1,j_0)$点P圈

     - P为开环传函正实部极点个数
     - 若$G(jw)H(jw)$通过点$(-1,j_0)$，则该闭环系统产生等幅振荡，系统临界稳定

     <img src="活过自动控制.assets/image-20210120213445213.png" alt="image-20210120213445213" style="zoom:50%;" />

     > 🌰【绘制增补完整的Nequist曲线】
   >
     > <img src="活过自动控制.assets/image-20210120213510590.png" alt="image-20210120213510590" style="zoom:50%;" />

  2. **简化版**

     <img src="活过自动控制.assets/image-20210120102837480.png" alt="image-20210120102837480" style="zoom:50%;" />
  
  3. **穿越版**
  
     <img src="活过自动控制.assets/image-20210120102849116.png" alt="image-20210120102849116" style="zoom:50%;" />
  
     <img src="活过自动控制.assets/image-20210120103318497.png" alt="image-20210120103318497" style="zoom:50%;" />

> 🌰【根据Nequist图判断系统稳定性 * 2】P60

### Bode图稳定判据

<img src="活过自动控制.assets/image-20210120103601062.png" alt="image-20210120103601062" style="zoom:50%;" />

- **正穿越**：相位增大的方向

> 🌰
>
> <img src="活过自动控制.assets/image-20210120103702222.png" alt="image-20210120103702222" style="zoom:50%;" />

------

### 系统相对稳定性及稳定裕度

<img src="活过自动控制.assets/image-20210120113238415.png" alt="image-20210120113238415" style="zoom:50%;" />

- **剪切频率**$w_c$：开环频率特征幅值为1时的$w$ （Bode图上与横轴的交点）
- **相角裕度**$\gamma$：$180^{\circ}+\varphi(w_c)$（求的实际上是频率特性为1时的相角裕$-180^{\circ}$的距离
  - 对于p=0的系统，$\gamma>0$时系统稳定，$\gamma$越大系统相对稳定性越高
- 相位穿越频率$w_g$：开环相频特性为$-180^{\circ}$的$w$
- **幅值裕度**$K_g$：$\frac{1}{|G(jw_g)H(jw_g)|}$
  - $K_g(dB) = 20lgK_g$
  - 对于p=0的系统，$k_g>1, K_g(dB)>0$时系统稳定，$K_g$越大，相对稳定性越高



【闭环频率特性图】（略）



### 频率特性与系统性能的关系

- **时域指标**

  - 稳态：$e_{ss},\ v,\ K$
  - 动态：$t_s, \ \sigma \% , \ t_r, \, t_p, \ N$

- **频率指标**

  - 开环：$w_c, \ \gamma, \ K_g$

  - 闭环（略）

    <img src="活过自动控制.assets/image-20210120113958580.png" alt="image-20210120113958580" width="50%;" />

- 表示阻尼大小的指标：$\zeta, \ \sigma\%, \ \gamma, \ M_r$
- 表示响应速度的指标：$t_s, \ w_c, \ w_b$
- 阻尼比一定时，剪切频率$w_c$越大，系统响应越快



**【开环】**

- $\sigma\%$与$\gamma$：成反比
  - 通过增大系统的阻尼比，可以减小超调，增大相对稳定性
  - 一般要欠阻尼，有点超调加速稳定，同时又不影响整体稳定性
- $w_c$与$t_s$：成反比
  - 调整时间越小，动态性能越好
  - 此时需要$w$增大，$w_c$往右移
- 高阶系统经验公式（略）
- 闭环系统的动态性能主要取决于开环对数幅频特性的中频段$\gamma, \ w_c$



**【闭环】**（略）

<img src="活过自动控制.assets/image-20210120114616403.png" alt="image-20210120114616403" style="zoom:50%;" />

<br/>

------

## 第六章 系统的设计与校正

- **改善系统性能**

  - 调整参数
  - 增加校正环节

- **系统性能指标**

  - 稳态精度（稳态误差）：静态误差系数 $K_p, \ K_v, \ K_a$
  - 稳定裕度（相对稳定性）：相角裕量、增益裕度$K_g$、谐振峰值、超调量、阻尼比
  - 动态性能（响应速度）：上升时间$t_r$、调整时间$t_s$、剪切频率$w_c$、带宽$w_d$、谐振频率$w_r$

- **系统带宽**：

  - 精确跟踪输入信号（低频）：要求系统有较大带宽
  - 抑制噪声（高频）：不想系统带宽过大

- **🌟系统校正方法**

  - 串联校正

    <img src="活过自动控制.assets/image-20210120142758095.png" alt="image-20210120142758095" style="zoom:50%;" />

  - 反馈校正

    <img src="活过自动控制.assets/image-20210120142809776.png" alt="image-20210120142809776" style="zoom:50%;" />

  - 前馈校正

    <img src="活过自动控制.assets/image-20210120142822182.png" alt="image-20210120142822182" style="zoom:50%;" />

  - 复合校正

- **校正装置分类**：自身有无放大能力

  - 无源校正装置：自身无放大功能，信号传递中幅值会衰减，需要附加放大器
  - 有源校正装置：由放大器和RC网络共同组成，自身即具有放大和补偿能力



### 频率法进行系统校正

【三频段理论】

<img src="活过自动控制.assets/image-20210120143036542.png" alt="image-20210120143036542" style="zoom:50%;" />



### 串联超前校正

<img src="活过自动控制.assets/image-20210120145840694.png" alt="image-20210120145840694" style="zoom:50%;" />

- 串联装置有<u>正的相位角</u>，使系统总的相角裕度$\gamma$变大，改善动态性能，提高系统稳定性
- 主要针对<u>中频段</u>
- **分类比较**
  - PD控制器：$G_c(s) = K_p(t+\tau s)$ 放大 微分
  - PD-惯性：$G_c(s)=K\frac{1+aTs}{1+Ts}, \ (a>1)$ 放大 微分 惯性
  - PD超前校正作用 > 带惯性环节的PD
  - 但惯性在提高系统抗干扰能力方面更突出
- **实质**：利用相角超前特性提高系统的相角裕度
  - 增大$w_c$处正相角，提高系统相角裕度	$\gamma \uparrow$
  - 减小$w_c$处的负斜率，提高系统稳定性   缓（极大$\gamma$处有一个正的dB）
  - 提高系统的频带宽度，提高系统响应速度   $w_c \uparrow宽$
- **模型**：$\frac{1+aTs}{1+Ts}$
- **最大可补偿角度**：$\varphi_m=sin^{-1}\frac{a-1}{a+1}$
  - 此时$20lg|G(jw)|=10lga \ (dB)$
  - a越大，补偿角度越大，但越接近PD微分，抗高频干扰越差
- **限制**：一般补偿角度不超过$65^{\circ}$，若原系统不稳定，或稳定裕度很小且剪切频率附近有较大负斜率时，不宜采用超前校正



1. **计算原系统性能**：绘制系统Bode图，求出$w_{c0}, \gamma_0$
2. **计算所需补偿的超前相角**：$\Delta\varphi = \gamma-\gamma_0+\varepsilon$
   - 附加$\varepsilon(5^{\circ} \sim 12^{\circ})$
   - 补偿校正后系统$w_c$右移引起的原系统相位滞后角
3. **计算校正装置参数**
   1. 取$\varphi m=\Delta\varphi$，解$a=\frac{1+sin\varphi m}{1-sin\varphi m}$
   2. 为充分利用网络，应使$w_m$为校正后系统的$w_c$；即找出原系统幅值为$-10lga \ dB$的频率$w_m$
   3. 由$w_m=\frac{1}{\sqrt{a}T}$解得T
   4. 则超前校正传函为：$G_c(s)=\frac{1+aTs}{1+Ts}$
4. **验证指标**

> 🌰【超前校正例题】
>
> <img src="活过自动控制.assets/image-20210120144905263.png" alt="image-20210120144905263" style="zoom:50%;" />



### 串联滞后校正

<img src="活过自动控制.assets/image-20210120145910026.png" alt="image-20210120145910026" style="zoom:50%;" />

- 降低系统的剪切频率，提高稳定裕度$\gamma$，改善动态性能和稳定性
- 核心使用这部分让$w_c$减小，同时减小的$\varphi$又不会太小
- **核心**：
  1. 找原始Bode图中那一点满足相角裕度$\gamma$要求，让这里的频率为新的$w_c$
  2. $L(w_c)=-20lga \ (a < 1)$
  3. 取滞后网络的第二转折频率$\frac{1}{aT}=\frac{1}{10}w_c$，解出T值

> 🌰【串联滞后校正例题】
>
> <img src="活过自动控制.assets/image-20210120150324655.png" alt="image-20210120150324655" style="zoom:50%;" />



### 串联超前/滞后比较

核心都是提高系统性能，尤其是讨论$\gamma$，希望它越大越好

$\gamma=180^{\circ}+\varphi(w_c)$

- 超前：直接在$\gamma$表达式后面再加一项$\varphi(w_n)$，让$\gamma$整体大一点
- 滞后：另一种思路是让$\gamma$还挺大时（还没衰减下去时），就达到$w_c$，也就是让$w_c$提前一点，让幅频整体下移一些

<img src="活过自动控制.assets/image-20210120150454640.png" alt="image-20210120150454640" style="zoom:50%;" />



- 先确定超前，再确定滞后，应留有裕量

<img src="活过自动控制.assets/image-20210120150506732.png" alt="image-20210120150506732" style="zoom:50%;" />